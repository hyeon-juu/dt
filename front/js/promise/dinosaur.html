<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css
/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js
/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .dropdown {
            display: inline-block;
        }

        .dropdown+.dropdown {
            margin-left: 10px;
        }
    </style>
</head>

<body>
    <div class="container mt-3" id="content"></div>
    <script>
        const url = 'http://ggoreb.com/dinosaur/info.jsp';
        //         const ajax = fetch(url, {
        //             method: 'get'
        //         })
        //             .then(res => res.json())
        //             .then(data => {
        //                 let code = '';
        //                 for (const item of data) {
        //                     code += `<div class="dropdown">
        //                         <button class="btn btn-primary dropdown-toggle"
        //                         data-bs-toggle="dropdown">
        //                         ${item.kind} (${item['dinosaurs'].length})
        //                         </button>`;
        //                     code += `<ul class="dropdown-menu">`;
        //                     for (const dinosaur of item['dinosaurs']) {
        //                         code += `<li><a class="dropdown-item" href="#">
        // ${dinosaur.title}</a></li>`;
        //                     }
        //                     code += `</ul></div>`;
        //                 }
        //                 document.querySelector('#content').innerHTML = code;
        //             });
        fetch(url).then((res) => {
            return res.json();
        }).then((result) => {
            //출력, 저장, 마무리 작업
            const 육식공룡 = result[0].dinosaurs; //배열
            let htmlCode = ''; m
            for (const 공룡 of 육식공룡) {
                const 이름 = 공룡.title;
                const description = 공룡.description;
                const img = `http://ggoreb.com/dinosaur/images/${공룡.imgs[0]}`;
                console.log(description);

                htmlCode += `<div class="card" style="width:400px">
                            <img class="card-img-top" src=${img} alt="Card image">
                            <div class="card-body">
                                <h4 class="card-title">${이름}</h4>
                                <p class="card-text">${description}</p>
                                <a href="#" class="btn btn-primary">See Profile</a>
                            </div>
                            </div>`
            }
            document.body.innerHTML = htmlCode;
        })
    </script>
</body>

</html>
<!-- 07-05 call back 사용법 -> 왜 -> 밥을 다 먹은 후 설거지 하려고 -->
<!-- 다른 방법은 뭐가 있을까. -->

<!-- 비동기로 만들면 콜백 처리 쉬워짐 -->